var mainWindow = Ti.UI.createWindow();

//Data
var fruits = [{title: "apples", description: "$0.59"}, {title: "pears", description: "$0.32"}, {title: "peaches", description: "$0.42"} ];
var veggies = [{title: "carrots"} , {title: "corn"}, {title: "potatoes"}];


var table = Titanium.UI.createTableView({
	
	
});

var fruitSection = Ti.UI.createTableViewSection({
	headerTitle: "Fruits",
	footerTitle: "List to buy"
	
});

var veggieSection = Ti.UI.createTableViewSection({
	headerTitle: "Veggie",
	footerTitle: "List to buy"
	
});
//set TableViewSection to the table
// setData can only accept array data types

var tableSections = [fruitSection, veggieSection];


table.setData(tableSections);


var getDetail = function(){
	var detailWindow = Ti.UI.createWindow({
		backGroundColor: "#fff"
		});
	var detailLabel = Ti.UI.createLabel({
		text: this.desc
		
	});
	detailWindow.add(detailLabel);
	detailWindow.open();
};
//create TableViewRows
for ( var i = 0, j = fruits.length; i < j ; i++){
	
	var theRow = Ti.UI.createTableViewRow({
		title: fruits[i].title,
		desc: fruits[i].content,
		hasChild: true
		});
		
	theRow.addEventListener("click", getDetail);
	fruitSection.add(theRow);
}

for ( var i = 0, j = veggies.length; i < j ; i++){
	
	var theRow = Ti.UI.createTableViewRow({
		title: veggies[i].title,
		desc: fruits[i].title,
		hasChild: true
		});
		
	theRow.addEventListener("click", getDetail);
	veggieSection.add(theRow);
}



mainWindow.add(table);
mainWindow.open();

